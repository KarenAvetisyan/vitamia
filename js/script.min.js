document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".js-header");var t=document.querySelector(".js-burger"),s=document.querySelector(".js-header-menu");document.addEventListener("click",(r=>{r.target.matches(".js-burger")&&(t.classList.toggle("clicked"),s.classList.toggle("show"),e.classList.toggle("header-wrap__active")),r.target.matches(".frame-link")&&(r.preventDefault(),t.classList.remove("clicked"),s.classList.remove("show"),e.classList.remove("header-wrap__active"))}));const r={debounce(e,t,s){let r;return function(){clearTimeout(r),r=setTimeout((()=>{e.apply(s,arguments)}),t)}}};const o=document.querySelectorAll(".frame");new class{constructor(e,t,s){this.currentPageNumber=e,this.totalPageNumber=t,this.pages=s,this.viewHeight=document.documentElement.clientHeight,this.lastScrollTime=0,this.scrollTimeout=800,this.scrollLocked=!1,this.frameMap={};document.querySelectorAll(".frame").forEach(((e,t)=>{const s=e.id;s&&(this.frameMap[s]=t+1)}))}handleWheel(e){e.preventDefault();const t=Date.now(),s=e.deltaY;Math.abs(s)<30||t-this.lastScrollTime<this.scrollTimeout||this.scrollLocked||(this.lastScrollTime=t,this.scrollLocked=!0,s>0?this.scrollDown():this.scrollUp(),setTimeout((()=>{this.scrollLocked=!1}),this.scrollTimeout))}scrollUp(){this.currentPageNumber>1&&(this.currentPageNumber--,this.updateNav(),this.pages.style.top=-this.viewHeight*(this.currentPageNumber-1)+"px")}scrollDown(){this.currentPageNumber<this.totalPageNumber&&(this.currentPageNumber++,this.updateNav(),this.pages.style.top=-this.viewHeight*(this.currentPageNumber-1)+"px")}scrollTo(e){e<1||e>this.totalPageNumber?console.warn(`Invalid scroll target: ${e}`):(this.currentPageNumber=e,this.pages.style.top=-this.viewHeight*(this.currentPageNumber-1)+"px",this.updateNav())}updateNav(){if(!this.navDots)return;this.navDots.forEach((e=>e.classList.remove("frame-link__active")));const e=document.querySelectorAll(".frame")[this.currentPageNumber-1];if(!e)return;const t=e.id;t&&this.navDots.forEach((e=>{e.getAttribute("href")===`#${t}`&&e.classList.add("frame-link__active")}))}initNav(){if(this.navDots=Array.from(document.querySelectorAll(".frame-link")),0!==this.navDots.length){this.navDots.forEach((e=>e.classList.remove("frame-link__active")));for(const e of this.navDots){const t=e.getAttribute("href");if(!t||!t.startsWith("#"))continue;const s=t.slice(1);if(this.frameMap[s]){e.classList.add("frame-link__active");break}}this.navDots.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const s=e.getAttribute("href");if(!s||!s.startsWith("#"))return;const r=s.slice(1),o=this.frameMap[r];o?(this.scrollTo(o),this.navDots.forEach((e=>e.classList.remove("frame-link__active"))),this.navDots.forEach((e=>{e.getAttribute("href")===s&&e.classList.add("frame-link__active")}))):console.warn(`No frame found for nav href: ${s}`)}))}))}}resize(){this.viewHeight=document.documentElement.clientHeight,this.pages.style.height=this.viewHeight+"px",this.pages.style.top=-this.viewHeight*(this.currentPageNumber-1)+"px"}init(){const e=r.debounce(this.resize,500,this);this.pages.style.height=this.viewHeight+"px",this.initNav(),window.addEventListener("wheel",this.handleWheel.bind(this),{passive:!1}),document.addEventListener("touchstart",(e=>{this.startY=e.touches[0].pageY,this.startX=e.touches[0].pageX}),{passive:!1}),document.addEventListener("touchmove",(e=>{if(!e.cancelable)return;const t=e.target.closest(".js-scrollable");if(t){const{scrollTop:s,scrollHeight:r,offsetHeight:o,scrollLeft:i,scrollWidth:a,offsetWidth:c}=t,n=0===s,l=s+o>=r,h=e.touches[0].pageY,u=e.touches[0].pageX,d=this.startY-h,m=this.startX-u;if(Math.abs(m)>Math.abs(d))return;if(d>0&&!l||d<0&&!n)return}e.preventDefault()}),{passive:!1}),document.addEventListener("touchend",(e=>{const t=e.changedTouches[0].pageY,s=this.startY-t;Math.abs(s)>40&&(s>0?this.scrollDown():this.scrollUp())}),{passive:!1}),window.addEventListener("resize",e)}}(1,o.length,document.getElementById("_frames")).init(),function(){if(/Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent)||"ontouchstart"in window)return;const e=document.querySelectorAll("[data-parallax]"),t={x:0,y:0};document.addEventListener("mousemove",(e=>{const{innerWidth:s,innerHeight:r}=window,o=2*(e.clientX/s-.5),i=2*(e.clientY/r-.5);t.x=o,t.y=i})),function s(){e.forEach((e=>{const s=parseFloat(e.dataset.speed)||.3,r=50*-t.x*s,o=50*-t.y*s,i=10*-t.x*s;e.style.transform=`translate(${r}px, ${o}px) rotateZ(${i}deg)`})),requestAnimationFrame(s)}()}();const i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&function(e){const t=document.querySelector(".header"),s=document.querySelectorAll(".header-logo path"),r=document.querySelector(".js-vector"),o=document.querySelectorAll(".js-vector-fill"),i=document.querySelector(".header-btn");if(e.classList.contains("frame-0")||e.classList.contains("frame-6")?document.querySelector(".js-vector").classList.add("not-active"):(document.querySelector(".js-vector").classList.remove("not-active"),document.querySelector(".js-vector").classList.remove("hidden")),e.classList.contains("frame-1")?i.classList.add("_dark_color"):i.classList.remove("_dark_color"),e.classList.contains("frame-0")||e.classList.contains("frame-1")?s.forEach((e=>{t.classList.add("_unique_color"),e.classList.remove("_white_color")})):(t.classList.remove("_unique_color"),s.forEach((e=>{e.classList.add("_white_color")}))),r&&e){const t=e.getAttribute("data-vector-color"),s=e.getAttribute("data-vector-bg-color"),a=e.getAttribute("data-header-btn-color");t&&(r.style.backgroundColor=t),s&&o.forEach((e=>{e.setAttribute("fill",s)})),a&&(i.style.backgroundColor=a)}}(e.target)}))}),{root:null,rootMargin:"0px",threshold:.5});document.querySelectorAll(".frame").forEach((e=>{i.observe(e)}));const a=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target;t.classList.toggle("is-inViewport",e.isIntersecting),e.isIntersecting&&!t.classList.contains("watched")&&t.classList.add("watched")}))}),{rootMargin:"0% 0% 0% 0%",threshold:.1});document.querySelectorAll("[data-inviewport]").forEach((e=>{a.observe(e)}))}));